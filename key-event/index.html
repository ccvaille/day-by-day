<!DOCTYPE html>
<html lang="en">
	<meta charset="UTF-8">
	<title>键盘事件</title>
	<script language="javascript">
	//总结：
	//1.keyCode值是小写字母或数字对应的ASCII码
	//2.charCode值是按下的字符键对应的ASCII编码
	//3.中文输入法时keypress事件失效
	//4.回车，空格 keydown、keypress、keyup事件的keyCode值相等
	//5.keypress事件的keyCode对字母的大小写敏感，而keydown、keyup事件不敏感
	//6.keypress只支持回车和空格两个功能键(谷歌)

	function handle(oEvent){
	   if(window.event){
	       
	       //处理兼容性，获得事件对象
	      oEvent = window.event;
	      
	      //设置IE的charCode值
	      oEvent.charCode = (oEvent.type == "keypress") ? oEvent.keyCode : 0;
	   }
	   var oDiv = document.getElementById("display");
	   
	   //输出测试
	   oDiv.innerHTML += oEvent.type              // 事件名称
	     + ": charCode:" + oEvent.charCode        // 字符码 charCode
	     + " keyCode:" + oEvent.keyCode + "<br>"; // 键盘码 keyCode
	}
	window.onload = function(){
	   var oTextArea = document.getElementsByTagName("textarea")[0];
	   oTextArea.onkeypress = handle;
	   oTextArea.onkeydown = handle;
	   oTextArea.onkeyup = handle;
	};

</script>

</head>
<body>
	<textarea rows="4"cols="50"></textarea>
	<div id="display"></div>
</body>
</html>